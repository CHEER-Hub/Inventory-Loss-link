.. _dir-section:

Directory Structure
===================

The "cwd" parameter defined by the user at the instantiation of the Loss module becomes the root of the Loss model output directory.
::

    cwd/
    ├── CHEER_Safe_data/   [C]
    │   ├── All_configs.csv/  [C-1]   
    │   ├── "Lookup".pkl/  [C-2]       
    ├── Hazards/    [H] 
    │   ├── Hazard_Name    [H-1]
    │      ├── "hazard x".parquet-.shp [H-1-1]
    ├── Inventory/    [I] 
    │      ├── Inventory Y.parquet-.shp  [I-1]
    ├── Test/    [T] 
    ├── Intermediate_outputs/    [IO] 
    ├── Inv_Updated_Hazard/    [IU] 
    ├── Loss_estimates/    [L]
        ├── Hazard_X/    [L-1]
            ├── Inventory_Y/    [L-1-1]
                ├── "hazard_x".parquet    [L-1-1-1]
                ├── zones/    [L-1-1-2]
                    ├── zone z/    [L-1-1-2-1]
                        ├── "hazard_x".parquet    [L-1-1-2-1-1]
    ├── User_Output/    [UO]
        ├── Hazard_X/    [UO-1]
            ├── Inventory_Y/    [UO-1-1]
                ├── "hazard_x".csv    [UO-1-1-1]
                ├── zones/    [UO-1-1-2]
                    ├── zone z/    [UO-1-1-2-1]
                        ├── "hazard_x".csv    [UO-1-1-2-1-1]


    
Directory Description
-----------

- C. **CHEER_Safe_data/**: Directory that contains necessary files to conduct the loss evaluation. 
- C-1. **All_configs.csv**: A .csv file containing all configs in the loss model. Herein, that would be 8 M values, 2 categoreis of distance from the coast line, 3 categories for year built, summing to 48 instances. Included in the download options, and must be renewed if a new loss model is developed.
- C-2. **"Lookup".pkl**: The lookup table [M,C][Wind,Flood] -> loss produced by the CHEER-Safe model. A lite version is in the sampel file and users may input new ones here.
- H. **Hazards/**: The folder for users to put their "Hazard" files.
- H-1. **Hazard X/**: The folder for a given **Hazard X**, like the TC_Wise hazard.
- H-1-1. **"hazard x.parquet-shp**: The **.shp** or **.parquet** file containing the **hazard x**'s (an instance of Hazard X) data intensities at control points, i.e., geo-data-points.
- I. **Inventory/**: The folder for users to put their inventory files.
- I-1. **"Inventory Y.parquet or .shp**: Invetory files as .shp or .parquet files for a given **inventory y**, must be imputed and contain no missing values. If it does, those ros would be deleted.
- T. **"Test/**: A folder containing some sample test data if the user opts for downloading them, disposable at various functions described in this documentation.
- IO. **"Intermediate_outputs/**: A folder that the loss module saves some **intermediate** output in.
- IU. **"Inv_Updated_Hazard/**: A folder that the loss module saves some inventory-related **intermediate** output in.
- Z. **zones/**: Users can put their zone boundaries.
- Z-1. **zone z.parquet-.shp**: the **zone z** input by users, for example a LeapHi raster.
- L. **Loss_estimates/**: The folder for the loss model to store the final loss estimates.
- L-1. **"Hazard X/"**: The loss model creates a folder for each Hazard X it conducts the analysis for, e.g., TC-Wise.
- L-1-1. **"Inventory_Y"**: For **Hazard X**, and for **inventory Y**, a folder is created.
- L-1-1-1. **"hazard_x.parquet-.shp"**: For a hazard instance x and for inventory Y, the losses in M$ for all enteries is saved.
- L-1-1-2. **"zones/"**: If user also designated a zone system to store the losses, the "zones" folder is created.
- L-1-1-2-1. **"zone-x/"**: **zone z** is the zone name the user defined, for example any of LeapHi zones.
- L-1-1-1-2. **"hazard_x.parquet-.shp"**: For a **hazard_x** instance in **Hazard X**, and for **inventory Y** and **zone z**, the losses in M$ for all enteries in **zone z** is saved.
- UO. **User_output/**: The folder for the loss model to store final loss estimates but in more user-friendly (summarized) and .csv format.
- UO-1. **"Hazard instance X/"**: The loss model creates a folder of each Hazard instance X it conducts the analysis for.
- UO-1-1. **"Inventory_Y"**: For **Hazard X**, and for **inventory Y**, a folder is created.
- UO-1-1-1. **"hazard_x.parquet-.shp"**: For a hazard instance x and for inventory Y, the losses in M$ for all enteries is saved.
- UO-1-1-2. **"zones/"**: If user also designated a zone system to store the losses, the "zones" folder is created.
- UO-1-1-2-1. **"zone z/"**: **zone z** is the zone sytem the user defined.
- UO-1-1-2-1-1. **"hazard x".csv"**: For a **hazard_x** instance in **Hazard X**, and for **inventory Y**, under the **zone z**, the loss estimates are stored as M$ for each each zone in **zone z** as M$.


